# Messenger

A Clone of Telegram written from the ground up, with a goal of security. Split
into [frontend](https://github.com/CyberSafe-Labs/Cyber-Messenger/tree/main/frontend) and the backend. Please Note: The backend server is proprietary.

## Purpose

This Messenger is written in Python
- Server and Client communicate via `TCP`
- Server must respond to a minimum of 5 different commands
- configuration file for port the server will listen on
- Server startup message
- Either prompt or use a configuration file to allow client to pick which server
  to connect to and port
- Server and Client work from 2 different IP addresses

### Choices

Language: `Python`
Platform: Agnostic, but favoring `Linux/Unix`, depends on `GUI` library choice

## Database Planning

![Entity Relationship Diagram](./db-planning/Telegram-clone-py-Entity%20Relationship%20Diagram.jpg)

![Relational Database Schema](./db-planning/Telegram-clone-py-Database%20Schema.jpg)

## Goals

### Server

- Built on top of a custom implementation of a Web App Framework similar to [Flask](https://flask.palletsprojects.com/en/1.1.x/)\*
- Server follows `REST` principles
- Utilize `Sqlite3` as the DBMS
- Verifiy Users Email addresses
- Utilize [Python-RSA](https://github.com/sybrenstuvel/python-rsa/) to maintain
  end to end encryption of messages
- Follow best practices for security
- Use websockets to send and recieve messages from client

### Client

- Utilize [PyQT](https://github.com/PyQt5/PyQt) for GUI
- Built on top of a custom implementation of HTTP Requests similar to [Requests](https://2.python-requests.org/en/master/)\*
- Utilize [Python-RSA](https://github.com/sybrenstuvel/python-rsa/) to maintain
  end to end encryption of messages
- Behave and look similarly to Telegram-desktop
- Allow `Markdown` in chat messages **Unfinished**
- Allow emoji in chat messages along with an emoji selector menu **Unfinished**

_\*_ Objectively **WORSE**

## Install

### Dependencies

- Python 3.8
- pip
- pipenv

### Frontend

```sh
cd frontend/
pipenv install
pipenv shell
cd ../
python -m frontend
```
## Future objectives

- Switch form polling the server every so many seconds to `websockets`
  1. Switch to websockets circumvents all the hacky refreshing
- Add Markdown support
- Add emoji menu
- refractor Qt mess
  1. Code generated by Qt Designer isn't pythonic and has massive issues
- Testing
- Implement settings window
  1. allow updating account (server side already supports)
  2. allow deleting account (server side already supports)
  3. allow resending email verification
- Fix sending email verification (for some reason doesn't work with Gmail)

## Takeaways

- Writing abstractions for the backend and learning how `HTTP Requests` work and
  are processed was incredibly interesting
- GUI design and layout was tedious, difficult, and the most time consuming

## License

CSL Non-Commercial License
